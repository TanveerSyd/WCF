@model Reference.ViewModels.StudentViewModel

@{
    ViewBag.Title = "Home Page";
 }

<h2>@ViewBag.Message</h2>
<p>
    To learn more about ASP.NET MVC visit <a href="http://asp.net/mvc" title="ASP.NET MVC Website">http://asp.net/mvc</a>.
</p>
 <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
   @* <script src="@Url.Content("/Scripts/MicrosoftAjax.js" )"type="text/javascript"></script>
    <script src="@Url.Content("/Scripts/MicrosoftMvcAjax.js" )"type="text/javascript"></script>   *@

<script src="../../Scripts/jquery.unobtrusive-ajax.min.js" type="text/javascript"></script>
@using (Ajax.BeginForm( new AjaxOptions { UpdateTargetId = "studentList", HttpMethod = "Post" }))
{ 
    <div>
        @Html.LabelFor(model => model.newStudent.FirstName)
        @Html.EditorFor(model => model.newStudent.FirstName)
    </div>
    <div>
      @Html.LabelFor(model => model.newStudent.LastName)
      @Html.EditorFor(model => model.newStudent.LastName)
    </div>
    <div>
      @Html.LabelFor(model => model.newStudent.Age)
      @Html.EditorFor(model => model.newStudent.Age)
    </div>
    <div>
        <input type="submit" value="Add Student" />
    </div>
    

}
     <div id='studentList'>
    @{ Html.RenderPartial("_StudentListControl", Model.Students); }
</div>
